<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <meta name="format-detection" content="telephone=no"/>
    <meta name="viewport"
          content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height, target-densitydpi=device-dpi"/>
    <link rel="stylesheet" href="http://code.jquery.com/mobile/1.2.1/jquery.mobile-1.2.1.min.css"/>
    <title>BIG Register Check</title>
</head>
<body>
<script type="text/javascript" src="phonegap.js"></script>
<script src="lib/jquery-1.9.1.min.js"></script>
<script src="lib/jquery.mobile-1.3.1.min.js"></script>
<script src="lib/soapclient.js"></script>
<script type="text/javascript" src="js/index.js"></script>
<script type="text/javascript">

    "use strict";

    // Wait for Cordova to load
    document.addEventListener("deviceready", onDeviceReady, false);

    function onDeviceReady() {

//        var sr = '<?xml version="1.0" encoding="utf-8"?>' +
//                '<soap:Envelope ' +
//                'xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" ' +
//                'xmlns:xsd="http://www.w3.org/2001/XMLSchema" ' +
//                'xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/">  ' +
//                '<soap:Body>' +
//                '<listHcpApproxRequest xmlns="http://services.cibg.nl/ExternalUser">' +
//                '<WebSite>Ribiz</WebSite>' +
//                '<Name>Hak</Name>' +
//                '<Initials>C.H.</Initials>' +
//                '</listHcpApproxRequest>' +
//                '</soap:Body>' +
//                '</soap:Envelope>';
//        alert(sr);
//
//        var xmlHttpRequest = new XMLHttpRequest();
//        xmlHttpRequest.open("POST", url, true);
//        xmlHttpRequest.setRequestHeader("SOAPAction", soapaction);
//        xmlHttpRequest.setRequestHeader("Content-Type", "text/xml; charset=utf-8");
//        xmlHttpRequest.send(sr);
//
//        function processResult() {
//            if (xmlHttpRequest.readyState == null || xmlHttpRequest.readyState == "undefined") {
//                xmlHttpRequest.readyState = 1;
//                xmlHttpRequest.addEventListener("load",
//                        function () {
//                            xmlHttpRequest.readyState = 4;
//                            if (typeof xmlHttpRequest.onreadystatechange == "function")
//                                xmlHttpRequest.onreadystatechange();
//                        },
//                        false);
//            }
//
//
//            if (xmlHttpRequest.readyState == 4) {
//                $('body').append(xmlHttpRequest.response);
//                alert("XmlHttp status: " + xmlHttpRequest.status);
//                alert("XmlHttp readyState: " + xmlHttpRequest.readyState);
//                alert("Response headers: " + xmlHttpRequest.getAllResponseHeaders());
//                alert("Response XML: " + xmlHttpRequest.responseXML);
//            }
//        }
//
//        xmlHttpRequest.onreadystatechange = processResult;
    }
</script>

<div id="input-1" data-input-id="1">
    <form data-theme="a">
        <label for="initials"><b>Voorletters</b><input type="text" id="initials" name="initials"></label>
        <label for="prefix"><b>Voorvoegsels</b><input type="text" id="prefix" name="prefix"></label>
        <label for="name"><b>Achternaam</b><input type="text" id="name" name="name"></label>
        <!--Street             string Straatnaam van het werkadres van de zorgverlener-->
        <!--Gender             string Geslacht van de zorgverlener-->
        <!--HouseNumber        string Huisnummer van het werkadres van de zorgverlener-->
        <!--Postalcode         string Postcode van het werkadres van de zorgverlener-->
        <!--City               string Plaats van het werkadres van de zorgverlener-->
        <!--RegistrationNumber string Registratienummer (BIG - nummer) van de inschrijving. Wanneer dit veld gevuld is moet het van het type decimal zijn.-->
        <!--DateOfBirth        string Geboortedatum van de zorgverlener. Wanneer dit veld gevuld is moet het van het type datetime zijn. Formaat yyyy-mm-dd-->
        <label for="professionalgroup" class="select"><b>Beroepsgroep</b></label>
        <select name="professionalgroup" id="professionalgroup">
            <option value="01">Artsen</option>
            <option value="02">Tandartsen</option>
            <option value="03">Verloskundigen</option>
            <option value="04">Fysiotherapeuten</option>
            <option value="16">Psychotherapeuten</option>
            <option value="17">Apothekers</option>
            <option value="18">Apotheekhoudende artsen</option>
            <option value="25">Gz-psychologen</option>
            <option value="30">Verpleegkundigen</option>
            <option value="87">Optometristen</option>
            <option value="88">Huidtherapeuten</option>
            <option value="89">Diëtisten</option>
            <option value="90">Ergotherapeuten</option>
            <option value="91">Logopedisten</option>
            <option value="92">Mondhygiënisten</option>
            <option value="93">Oefentherapeuten Mensendieck</option>
            <option value="94">Oefentherapeuten Cesar</option>
            <option value="95">Orthoptisten</option>
            <option value="96">Podotherapeuten</option>
            <option value="97">Radiodiagnostisch laboranten</option>
            <option value="98">Radiotherapeutisch laboranten</option>
            <option value="99">Onbekend</option>
            <option value="83">Apothekersassistenten</option>
            <option value="85">Tandprothetica</option>
            <option value="86">Verzorgenden individuele gezondheidszorg</option>
        </select>
        <label for="typeofspecialism" class="select"><b>Specialisme</b></label>
        <select name="typeofspecialism" id="typeofspecialism">
            <option value="2">Allergologie</option>
            <option value="3">Anesthesiologie</option>
            <option value="4">Algemene gezondheidszorg</option>
            <option value="5">Medische milieukunde</option>
            <option value="6">Tuberculosebestrijding</option>
            <option value="7">Arbeid en gezondheid</option>
            <option value="8">Arbeid en gezondheid-bedrijfsgeneeskunde</option>
            <option value="10">Cardiologie</option>
            <option value="11">Ardio - thoracale chirurgie</option>
            <option value="12">Dermatologie en venerologie</option>
            <option value="13">Leer van maag-darm-leverziekten</option>
            <option value="14">Heelkunde</option>
            <option value="15">Huisartsgeneeskunde</option>
            <option value="16">Inwendige geneeskunde</option>
            <option value="17">Jeugdgezondheidszorg</option>
            <option value="18">Keel-neus-oorheelkunde</option>
            <option value="19">Kindergeneeskunde</option>
            <option value="20">Klinische chemie</option>
            <option value="21">Klinische genetica</option>
            <option value="22">Klinische geriatrie</option>
            <option value="23">Longziekten en tuberculose</option>
            <option value="24">Medische microbiologie</option>
            <option value="25">Neurochirurgie</option>
            <option value="26">Neurologie</option>
            <option value="30">Nucleaire geneeskunde</option>
            <option value="31">Oogheelkunde</option>
            <option value="32">Orthopedie</option>
            <option value="33">Pathologie</option>
            <option value="34">Plastische chirurgie</option>
            <option value="35">Psychiatrie</option>
            <option value="39">Radiologie</option>
            <option value="40">Radiotherapie</option>
            <option value="41">Reumatologie</option>
            <option value="42">Revalidatiegeneeskunde</option>
            <option value="43">Maatschappij en gezondheid</option>
            <option value="44">Sportgeneeskunde</option>
            <option value="45">Urologie</option>
            <option value="46">Obstetrie en gynaecologie</option>
            <option value="47">Verpleeghuisgeneeskunde</option>
            <option value="48">Arbeid en gezondheid-verzekeringsgeneeskunde</option>
            <option value="50">Zenuw -en zielsziekten</option>
            <option value="53">dento-maxillaire orthopaedie</option>
            <option value="54">mondziekten en kaakchirurgie</option>
            <option value="55">maatschappij en gezondheid</option>
            <option value="56">medische zorg voor verstandelijke gehandicapten</option>
            <option value="60">ziekenhuisfarmacie</option>
            <option value="61">klinische psychologie</option>
            <option value="62">interne geneeskunde-allergologie</option>
        </select>
        <input type="submit" value="Check my Doc" data-icon="star" data-theme="a">
    </form>
</div>

<script type="text/javascript">
    "use strict";
    $('form').submit(function () {
        var initials = $('#initials').val();
        var prefix = $('#prefix').val();
        var name = $('#name').val();
        var professionalgroup = $('#professionalgroup').val();
        var typeofspecialism = $('#typeofspecialism').val();
//
//        alert(initials);
//        alert(prefix);
//        alert(name);
//        alert(professionalgroup);
//        alert(typeofspecialism);
//
        var url = "http://webservices-acc.cibg.nl/Ribiz/OpenbaarV2.asmx";
//        var soapaction = "http://services.cibg.nl/ExternalUser/ListHcpApprox3";
        var method = "listHcpApproxRequest";
        var params = new SOAPClientParameters();
        params.add("WebSite", "Ribiz");
        params.add("Initials", initials);
        params.add("Name", name);
        SOAPClient.invoke(url, method, params, Response_callBack);

        return false;
    });

    function Response_callBack(r)
    {
        alert(r);
    }
</script>

</body>
</html>
